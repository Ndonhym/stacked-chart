<!DOCTYPE html>
<html lang="fr-FR" class="home home-1">
<head>
	<meta charset="UTF-8">
	<title>Stacked Chart</title>
	
	<meta name="viewport" content="width=device-width">
	<style>
		*{
			margin:0; padding:0;
			-webkit-box-sizing: border-box;
			-moz-box-sizing: border-box;
			-o-box-sizing: border-box;
			box-sizing: border-box;
		} 
		body {
			margin:0; padding:2em 2em 5em;
			background:#FAFAFA; color:#333;
			font:13px/1.5 "Helvetica Neue", Helvetica, Arial, sans-serif;
		}
		h1 {
			margin:0 0 1em; padding-bottom:0.2em;
			border-bottom:1px solid #CCC;
			font:italic normal 26px/1.5 Georgia, 'Times New Roman', serif;
		}
		section {
			margin-bottom:7em;
		}
		section h2 {
			margin-bottom:1em;
		}
		.stacked-chart {
			position:relative;
			display:table;
			margin:0 0 5em; padding:0.4em 0.35em;
			width:100%;
			list-style:none;
			border:1px solid #ccc;
			border-radius:12px;
			/*overflow:hidden;*/
		}
		.stacked-chart:after {
			content:'';
			display:table;
			clear: both;
		}
		.stacked-chart li {
			position:relative;
			/*float:left;*/
			display:table-cell;
			margin:0; padding:0;
			min-width:25px;
			transition:width .450s ease-out;
		}
		.stacked-chart.chart-2 li { width:50%; }
		.stacked-chart.chart-3 li { width:33.33%; }
		.stacked-chart.chart-4 li { width:25%; }
		.stacked-chart.chart-5 li { width:20%; }
		.stacked-chart.chart-6 li { width:16.66%; }
		.stacked-chart.chart-7 li { width:14.28%; }
		.stacked-chart.chart-9 li { width:11.11%; }
		.stacked-chart.chart-10 li { width:10%; }

		.stacked-chart li:before {
			content:'';
			display:block;
			padding:0 1px;
			height:15px;
			background:#000;
			background-clip:content-box;
		}
		.stacked-chart li:after {
			content:'';
			position:absolute;
			bottom:-6px; left:50%;
			display:block;
			width: 0;
			height: 0;
			margin-left:-5px;
			border-style: solid;
			border-width: 6px 5px 0 5px;
			border-color: #000 transparent transparent transparent;
		}
		
		.stacked-chart li:first-child:before {
			border-radius:10px 0 0 10px;
		}
		.stacked-chart li:last-child:before {
			border-radius:0 10px 10px 0;
		}
		.stacked-chart li:nth-child(1):before { background-color:#0A2F30; }
		.stacked-chart li:nth-child(2):before { background-color:#25444A; }
		.stacked-chart li:nth-child(3):before { background-color:#405A63; }
		.stacked-chart li:nth-child(4):before { background-color:#5C6F7D; }
		.stacked-chart li:nth-child(5):before { background-color:#778496; }

		.stacked-chart li:nth-child(1):after { border-top-color:#0A2F30; }
		.stacked-chart li:nth-child(2):after { border-top-color:#25444A; }
		.stacked-chart li:nth-child(3):after { border-top-color:#405A63; }
		.stacked-chart li:nth-child(4):after { border-top-color:#5C6F7D; }
		.stacked-chart li:nth-child(5):after { border-top-color:#778496; }

		.stacked-chart .chart-label {
			position:absolute;
			margin-top: 1em;
			width:100%;
			text-align:center;
			line-height: 1.3;

			word-wrap: break-word;
			-webkit-hyphens: auto;
			-moz-hyphens: auto;
			-ms-hyphens: auto;
			-o-hyphens: auto;
			hyphens: auto;
		}

		aside, section {
			margin:0 auto;
			max-width:1000px;
		}
		.activity-sumup {
			background:#FFF;
			border:1px solid #d1d1d1;
			border-radius:5px;
			overflow:hidden;
		}
		.sumup-title {
			padding:1em;
			border-bottom:1px solid #d1d1d1;
			text-align:center;
			text-transform:uppercase;
		}
		.sumup-total {
			float:left;
			padding:2em 1em;
			width:25%;
			text-align:center;
		}
		.sumup-total-count {
			margin-top:3em;
			font-size:30px;
		}
		.sumup-details {
			float:left;
			padding:2em 3em 0;
			width:75%;	
			border-left:1px solid #d1d1d1;
		}
		.sumup-details .stacked-chart {
			margin:1em 0 6em;
		}
		.activity-sumup .details-title {
			margin-bottom:1.7em;
			padding-top:2.5em;
			border-top:1px solid #d1d1d1;
		}
		.activity-sumup .details-title:first-child {
			border:none;
			padding:0;
		}
		@media only screen and (max-width: 768px) {
			.sumup-total, .sumup-details {
				float:none;
				width:auto;
			}
			.sumup-details {
				padding:1em 1em 0;
				border-left:none;
				border-top:1px solid #d1d1d1;
			}
			.sumup-total {
				/*text-align:left;*/
				padding:1em;
			}
			.activity-sumup .details-title {
				margin-bottom: 0;
    			padding-top: 1.5em;
			}
			.sumup-total .details-title,
			.sumup-total .sumup-total-count {
				display:inline-block;
			}
			.sumup-total-count {
				font-size:14px;
				margin:0;
			}
			.sumup-total .details-title {
				margin:0;
			}
			.sumup-total .details-title:after {
				content:' :';
			}
		}
	</style>
</head>
<body>
	<h1>Stacked Chart</h1>
	
	<section>
		<h2>Par type d'activité</h2>
		<ul class="stacked-chart chart-3">
			<li style="width:18%;"><span class="chart-label"><span class="chart-count">18%</span><br> Domestique</span></li>
			<li style="width:42%;"><span class="chart-label"><span class="chart-count">42%</span><br> Déplacement</span></li>
			<li style="width:40%;"><span class="chart-label"><span class="chart-count">40%</span><br> Loisirs</span></li>
		</ul>
	</section>

	<section>
		<h2>Par type d'activité</h2>
		<ul id="demo1" class="stacked-chart chart-3">
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Domestique</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Déplacement</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Loisirs</span></li>
		</ul>
		<ul class="stacked-chart chart-2">
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Domestique</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Déplacement</span></li>
		</ul>
		<ul class="stacked-chart chart-4">
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Domestique</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Déplacement</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Loisirs</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Déplacement</span></li>
		</ul>
		<ul class="stacked-chart chart-5">
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Domestique</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Domestique</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Déplacement</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Loisirs</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Loisirs</span></li>
		</ul>
		<ul class="stacked-chart chart-6">
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Domestique</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Domestique</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Domestique</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Déplacement</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Loisirs</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Loisirs</span></li>
		</ul>
		<ul class="stacked-chart chart-7">
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Domestique</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Domestique</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Domestique</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Domestique</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Déplacement</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Loisirs</span></li>
			<li><span class="chart-label"><span class="chart-count">0%</span><br> Loisirs</span></li>
		</ul>
	</section>
	


	<aside class="activity-sumup">
		<h3 class="sumup-title">Bilan de ma semaine</h3>
		<div class="sumup-total">
			<h4 class="details-title">Temps d'activité total</h4>
			<p class="sumup-total-count">15h00</p>
		</div>
		<div class="sumup-details">
			<h4 class="details-title">Par type d'activité</h4>
			<ul id="demo2" class="stacked-chart chart-3">
				<li><span class="chart-label"><span class="chart-count">0%</span><br> Domestique</span></li>
				<li><span class="chart-label"><span class="chart-count">0%</span><br> Déplacement</span></li>
				<li><span class="chart-label"><span class="chart-count">0%</span><br> Loisirs</span></li>
			</ul>

			<h4 class="details-title">Par intensité</h4>
			<ul id="demo3" class="stacked-chart chart-3">
				<li><span class="chart-label"><span class="chart-count">0%</span><br> Modéré</span></li>
				<li><span class="chart-label"><span class="chart-count">0%</span><br> Élevé</span></li>
				<li><span class="chart-label"><span class="chart-count">0%</span><br> Très élevé</span></li>
			</ul>
		</div>
	</aside>
	
	<script>
		var UTILS = UTILS ||  {};
		(function(){
			UTILS.updateStackedChart = function(elm, tData){
				for(var i=0;i<tData.length;i++){
					var currentItem = elm.getElementsByTagName('li')[i];
					currentItem.style.width = tData[i]+'%';
					currentItem.getElementsByClassName('chart-count')[0].innerHTML = tData[i]+'%';
				}
			};
			setTimeout(function(){
				UTILS.updateStackedChart(document.getElementById('demo1'), [0,75,25]);
				UTILS.updateStackedChart(document.getElementById('demo2'), [10,30,60]);
				UTILS.updateStackedChart(document.getElementById('demo3'), [97,1,2]);
			},300);
		})();
	</script>
</body>
</html>